#SITE.user = 'jstrachan'
SITE.host = 'forge.fusesource.org'

#
# helper methods
#
def svninfo() 
  p = IO.popen("svn info") 
  while line = p.gets
    list = line.split
    if list[0] == "URL:"
      return list[1]
    end
  end
  return ''
end

#
# project specific variables
#
SITE.project_name = 'CloudMix'
SITE.project_id = 'cloudmix'
SITE.project_jira_key = 'CM'

# these are probably all canonical values generated from the above
SITE.project_svn_url = 'https://projects.fusesource.org/projects/svn/fuse/' + SITE.project_id + '/trunk'
SITE.project_svn_branches_url = 'https://projects.fusesource.org/projects/svn/fuse/' + SITE.project_id + '/branches'
SITE.project_issue_url = 'http://fusesource.com/issues/browse/' + SITE.project_jira_key
SITE.maven_groupId = 'org.fusesource.' + SITE.project_id
SITE.maven_artifactId = SITE.project_id

SITE.remote_dir = '/usr/local/jetty/webapps/' + SITE.project_id

SITE.svn_root = svninfo()

# parameters passed to the edit page 
SITE.edit_page_params = 'jira=' + SITE.project_issue_url + '&page=' + SITE.svn_root + '/'

# the URL we post page edits to
SITE.post_edited_page = 'http://forge.fusesource.org/wiki/editPage'

#
# comment out this line if you don't want to refer to the deployed CSS files
#
# TODO uncomment when you have deployed the CSS for sites which use directories
# so that the relative CSS links work
#
# SITE.base = 'http://forge.fusesource.org/' + SITE.project_id
SITE.base = '.'


#
# rake tasks
#
task :default => :build

desc 'deploy the site to the webserver'
task :deploy => [:build, 'deploy:rsync']


# EOF
